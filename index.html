<!-- Halaman utama login BMNCARE -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Supaya responsive di HP -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BMNCARE</title>
    <!-- Icon kecil di tab browser -->
    <link rel="icon" href="images/bmncare2.ico" type="image/x-icon">
    <!-- CSS utama -->
    <link rel="stylesheet" href="css/index.css" />
  </head>
  <body>
    <div class="login-container">
      <!-- Logo utama -->
      <img src="images/bmncare.png" alt="BMNCARE" class="logo" />
      <div class="input-container">
        <!-- Input untuk kode akses -->
        <input type="password" id="access-code" placeholder="Enter Access Code" />
        <!-- Tombol show/hide password -->
        <button type="button" class="toggle-password" onclick="togglePassword()">
          <svg id="eye-icon" viewBox="0 0 24 24">
            <path
              d="M12 5c-7.633 0-11 6.274-11 7s3.367 7 11 7 11-6.274 11-7-3.367-7-11-7zm0 12c-4.149 0-7-3.281-7-5s2.851-5 7-5 7 3.281 7 5-2.851 5-7 5zm0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zm0 4.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5z"
            />
          </svg>
        </button>
      </div>
      <!-- Tombol submit -->
      <button class="submit-button" onclick="checkCode()">Submit</button>
    </div>
    
    <!-- File JS eksternal -->
    <script src="js/bmncare.js"></script>
    <script>
      // Fungsi cek kode akses
      function checkCode() {
        const accessCode = document.getElementById("access-code").value.trim();

        if (!accessCode) {
          alert("Please enter access code.");
          return;
        }

        const combinedCode = `${accessCode}`;

        if (bmncare[combinedCode]) {
          sessionStorage.setItem("accessGranted", bmncare[combinedCode]);
          window.location.href = `/${bmncare[combinedCode]}.html`;
        } else {
          alert("Invalid code. Please try again.");
        }
      }

      // Fungsi show/hide password
      function togglePassword() {
        const passwordField = document.getElementById("access-code");
        const eyeIcon = document.getElementById("eye-icon");

        if (passwordField.type === "password") {
          passwordField.type = "text";
          eyeIcon.innerHTML =
            '<path d="M12 5c-7.633 0-11 6.274-11 7 0 .726 3.367 7 11 7 2.197 0 4.123-.427 5.773-1.126l2.625 2.625 1.414-1.414-19.799-19.799-1.414 1.414 3.084 3.084c-1.447.836-2.548 1.998-3.4 3.216 1.142 1.679 3.526 4.384 7.717 4.384 1.554 0 2.992-.432 4.251-1.168l1.482 1.482c-1.585.904-3.402 1.372-5.733 1.372-4.149 0-7-3.281-7-5 0-.843 2.333-4.464 6.828-5.253l1.414 1.414c-2.356.319-4.242 1.329-5.242 2.505 1.142 1.679 3.526 4.384 7.717 4.384 1.554 0 2.992-.432 4.251-1.168l1.482 1.482c-1.585.904-3.402 1.372-5.733 1.372z"/>';
        } else {
          passwordField.type = "password";
          eyeIcon.innerHTML =
            '<path d="M12 5c-7.633 0-11 6.274-11 7s3.367 7 11 7 11-6.274 11-7-3.367-7-11-7zm0 12c-4.149 0-7-3.281-7-5s2.851-5 7-5 7 3.281 7 5-2.851 5-7 5zm0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zm0 4.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5z"/>';
        }
      }

      // Biar tombol "Enter" bisa langsung submit
      document.getElementById("access-code").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          checkCode();
        }
      });

      // Nonaktifkan klik kanan
      document.addEventListener("contextmenu", function (event) {
        event.preventDefault();
      });

      // Nonaktifkan shortcut devtools
      document.addEventListener("keydown", function (event) {
        if ((event.ctrlKey && event.key === "u") || (event.ctrlKey && event.shiftKey && (event.key === "I" || event.key === "J")) || event.key === "F12") {
          event.preventDefault();
        }
      });

      // Nonaktifkan ctrl+s (save)
      document.addEventListener("keydown", function (event) {
        if (event.ctrlKey && event.key === "s") {
          event.preventDefault();
        }
      });
    </script>
  </body>
</html>
